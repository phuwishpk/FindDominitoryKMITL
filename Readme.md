# FindDormitoryKMITL ‚Äî ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏´‡∏≠‡∏û‡∏±‡∏Å

‡πÇ‡∏Ñ‡∏£‡∏á‡∏á‡∏≤‡∏ô **"‡πÄ‡∏ß‡πá‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å KMITL"** ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏ö‡∏£‡∏¥‡πÄ‡∏ß‡∏ì‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏û‡∏£‡∏∞‡∏à‡∏≠‡∏°‡πÄ‡∏Å‡∏•‡πâ‡∏≤‡πÄ‡∏à‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏´‡∏≤‡∏£‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏±‡∏á (KMITL) ‡πÑ‡∏î‡πâ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

## üéØ ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- ‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏Å‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏≠‡∏û‡∏±‡∏Å‡∏£‡∏≠‡∏ö KMITL ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏á‡πà‡∏≤‡∏¢‡∏î‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û  
- ‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏´‡∏≠‡∏û‡∏±‡∏Å ‡πÄ‡∏ä‡πà‡∏ô ‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á ‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏Ñ‡πà‡∏≤‡∏°‡∏±‡∏î‡∏à‡∏≥ ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö  
- ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏¢‡∏∑‡∏î‡∏´‡∏¢‡∏∏‡πà‡∏ô ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤ ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏≠‡∏û‡∏±‡∏Å (‡∏ä‡∏≤‡∏¢/‡∏´‡∏ç‡∏¥‡∏á/‡∏£‡∏ß‡∏°) ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å  
- ‡∏•‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡∏Å‡∏Ñ‡∏£‡∏≠‡∏á‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏Å‡∏ô‡∏±‡∏Å  
- ‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏î‡∏¥‡∏à‡∏¥‡∏ó‡∏±‡∏•‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏µ‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô  

## üë• ‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏ó‡∏≥
- **‡∏ô‡∏≤‡∏¢ ‡∏†‡∏π‡∏ß‡∏¥‡∏ä‡∏ç‡πå ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏à‡∏¥‡∏ï‡∏£ 67030183**
- **‡∏ô‡∏≤‡∏¢ ‡∏Å‡∏£ ‡πÅ‡∏î‡∏á‡∏ó‡∏≠‡∏á 67030268**
- **‡∏ô‡∏≤‡∏¢ ‡∏ò‡∏ô‡∏ö‡∏î‡∏µ ‡∏ö‡∏∏‡∏ç‡∏†‡∏°‡∏£ 67030298**
- **‡∏ô‡∏≤‡∏¢ ‡∏û‡∏£‡∏û‡∏£‡∏° ‡πÅ‡∏à‡πà‡∏°‡∏à‡∏±‡∏á 67030323**
- **‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß ‡∏†‡∏¥‡∏ç‡∏ç‡∏≤‡∏û‡∏±‡∏ä‡∏ç‡πå ‡∏ö‡∏≤‡∏ô‡∏ö‡∏±‡∏ß 67030334**
- **‡∏ô‡∏≤‡∏¢ ‡∏≠‡∏±‡∏ê‡∏ß‡∏∏‡∏í‡∏¥ ‡∏ö‡∏±‡∏ß‡πÄ‡∏£‡∏µ‡∏¢‡∏ô 67030359**
- **‡∏ô‡∏≤‡∏¢ ‡∏≠‡∏¥‡∏ó‡∏ò‡∏¥‡∏û‡∏±‡∏ó‡∏ò‡∏¥‡πå ‡∏™‡∏∏‡∏ó‡∏ò‡∏¥‡∏ô‡∏ß‡∏• 67030360**

> ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏´‡∏≠‡∏û‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡πÅ‡∏¢‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó **User / Owner / Admin** ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏î‡πâ‡∏ß‡∏¢ **Flask + SQLAlchemy + WTForms + Flask-Login + Bootstrap** ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡πâ‡∏ô (Layers) ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏ö‡∏ö
**FindDormitoryKMITL** ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏´‡∏≠‡∏û‡∏±‡∏Å ‡πÇ‡∏î‡∏¢‡πÅ‡∏¢‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏Å‡∏•‡∏∏‡πà‡∏°:
- **User**: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (approved) ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
- **Owner**: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î/‡∏•‡∏ö/‡∏•‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏π‡∏õ (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6)
- **Admin**: ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ (‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î workflow ‡πÅ‡∏•‡∏∞ audit log)

---

## ‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å
### User
- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ **approved**
- ‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á, ‡∏™‡∏¥‡πà‡∏á‡∏≠‡∏≥‡∏ô‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å (amenities), ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡πâ‡∏≠‡∏á (availability), ‡πÉ‡∏Å‡∏•‡πâ‡∏û‡∏¥‡∏Å‡∏±‡∏î (near/radius), ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö (sort)

### Owner
- ‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢ **‡∏≠‡∏µ‡πÄ‡∏°‡∏• + ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô** (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö remember me)
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®: ‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏≠, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡πâ‡∏≠‡∏á, ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠, ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢, ‡∏û‡∏¥‡∏Å‡∏±‡∏î, ‡∏•‡∏¥‡∏á‡∏Å‡πå, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡πâ‡∏≠‡∏á
- ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡∏£‡∏π‡∏õ: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î/‡∏•‡∏ö/‡∏•‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6 ‡∏£‡∏π‡∏õ, ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó jpg/jpeg/png/webp, ‡∏Ç‡∏ô‡∏≤‡∏î ‚â§ 3MB/‡∏£‡∏π‡∏õ)

### Admin (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô/‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î)
- ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢ **username + ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô**
- ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥, ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô workflow, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å AuditLog (‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î)

---

## ‡∏™‡πÅ‡∏ï‡∏Å/‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ
- **Flask 3.x**, **Werkzeug 3.x**
- **Flask-SQLAlchemy** + **SQLAlchemy 2.x**
- **Flask-Migrate (Alembic)**
- **Flask-WTF + WTForms**
- **Flask-Login**
- **Flask-Babel** (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ locale/timezone)
- **Flask-Limiter** (‡∏Å‡∏±‡∏ô brute force ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï)
- **Bootstrap 5 (CDN)**

---

## ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÅ‡∏•‡∏∞ Navbar
- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: **User** (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß)
- **Navbar**: ‡∏õ‡∏∏‡πà‡∏° **Login** ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Login ‡∏£‡∏ß‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Owner/Admin)

---

## Authentication
- **Owner**: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô (‡∏≠‡∏µ‡πÄ‡∏°‡∏• + ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô)
- **Admin**: ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô (username + ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô)
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö **‚Äú‡∏à‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‚Äù (remember me)**

---

## Validation
- ‡∏ï‡∏£‡∏ß‡∏à **‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÑ‡∏ó‡∏¢ 13 ‡∏´‡∏•‡∏±‡∏Å** (checksum)
- ‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏ü‡∏•‡πå **PDF** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡∏°‡∏µ‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å (‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• `.pdf`, ‡∏Ç‡∏ô‡∏≤‡∏î ‚â§ 10MB)
- ‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏ü‡∏•‡πå **‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û** (‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï: jpg/jpeg/png/webp + ‡∏Ç‡∏ô‡∏≤‡∏î ‚â§ 3MB/‡∏£‡∏π‡∏õ)

---

## ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°
‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡πÅ‡∏¢‡∏Å‡∏ä‡∏±‡πâ‡∏ô (Layers):
- **Presentation**: Flask Blueprints + Templates (‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö, ‡∏ü‡∏≠‡∏£‡πå‡∏°, routing)
- **Services**: ‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à/‡∏Å‡∏é‡πÄ‡∏Å‡∏ì‡∏ë‡πå (login, ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤, ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î ‡∏Ø‡∏•‡∏Ø)
- **Repositories**: Data Access ‡∏î‡πâ‡∏ß‡∏¢ SQLAlchemy
- **Models (ORM)**: ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå
- **Utils (Helper/Validation)**: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (‡∏ï‡∏£‡∏ß‡∏à‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô, ‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏ü‡∏•‡πå)
- **Extensions/Config**: ‡∏ï‡∏±‡∏ß‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° framework ‡πÅ‡∏•‡∏∞ config ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á DI container

---

‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏´‡∏≠‡∏û‡∏±‡∏Å ‡πÅ‡∏¢‡∏Å‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó **User / Owner / Admin**  
‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ: **Flask**, **SQLAlchemy**, **Flask-Migrate**, **WTForms**, **Flask-Login**, **Bootstrap**

- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: **User** (`/`) ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß
- Navbar: ‡∏õ‡∏∏‡πà‡∏° **Login** ‚Üí ‡∏´‡∏ô‡πâ‡∏≤ Login ‡∏£‡∏ß‡∏° (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Owner / Admin)
- Owner: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô, ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÅ‡∏Å‡πâ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®, ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î/‡∏•‡∏ö/‡∏•‡∏≤‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏π‡∏õ (‚â§ 6 ‡∏£‡∏π‡∏õ)
- Admin: ‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô, (‡πÇ‡∏Ñ‡∏£‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î) ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥/‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å AuditLog

---

## ‡∏ó‡∏µ‡∏°/‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó (7 ‡∏Ñ‡∏ô)

- **U1 (‡∏´‡∏ô‡∏±‡∏Å)** = ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏ù‡∏±‡πà‡∏á User (‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏•‡∏¥‡∏™‡∏ï‡πå)
- **U2** = User-Map/Detail
- **U3** = User-UI
- **O1 (‡∏´‡∏ô‡∏±‡∏Å)** = Owner-CRUD/Gallery
- **O2** = Owner-Form/Amenities
- **A1 (‡∏´‡∏ô‡∏±‡∏Å)** = Admin-Approval Workflow
- **A2** = Admin-Auth/Security

> ‡∏Ñ‡∏ô ‚Äú‡∏´‡∏ô‡∏±‡∏Å‚Äù ‡∏ó‡∏≥ ‚â• 3 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô; ‡∏Ñ‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏ó‡∏≥ ‚â• 1 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 2)

---

## Folder Structure + ‡∏ú‡∏π‡πâ‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö + ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà ‚Äú‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‚Äù

```bash

FindDormitoryKMITL/
‚îú‚îÄ run.py ‚Äî (A2) ‡∏ö‡∏π‡∏ï‡πÅ‡∏≠‡∏õ/entrypoint (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ‡πÄ‡∏¢‡∏≠‡∏∞)
‚îú‚îÄ requirements.txt ‚Äî (A2) ‡∏î‡∏π‡πÅ‡∏• lib ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ä‡πâ
‚îú‚îÄ instance/
‚îú‚îÄ uploads/
‚îî‚îÄ app/
‚îú‚îÄ init.py ‚Äî (A2) DI container + register blueprints + CLI seed
‚îÇ ‚Ä¢ A2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô/‡∏î‡∏π‡πÅ‡∏•
‚îÇ - register_dependencies(app): dict[str,Any] -> None (wire service/repo)
‚îÇ - seed_amenities(): None (CLI)
‚îÇ - seed_sample(): None (CLI)
‚îú‚îÄ config.py ‚Äî (A2) ‡∏Ñ‡∏≠‡∏ô‡∏ü‡∏¥‡∏Å (DB/UPLOAD/Locale)
‚îú‚îÄ extensions.py ‚Äî (A2) login_manager/db/migrate/csrf/limiter + decorators
‚îÇ ‚Ä¢ A2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô/‡∏î‡∏π‡πÅ‡∏•
‚îÇ - load_user(user_id:str) -> Principal|None
‚îÇ - owner_required(f), admin_required(f) -> wrapper
‚îÇ
‚îú‚îÄ blueprints/
‚îÇ ‚îú‚îÄ public/
‚îÇ ‚îÇ ‚îî‚îÄ routes.py ‚Äî (U1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡∏´‡∏ô‡πâ‡∏≤ User
‚îÇ ‚îÇ ‚Ä¢ U1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - index(): Response ‚Üí ‡∏£‡∏±‡∏ö query-string ‚Üí ‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠ SearchService.search()
‚îÇ ‚îÇ - property_detail(prop_id:int): Response
‚îÇ ‚îÇ ‚Ä¢ U3 (‡πÄ‡∏™‡∏£‡∏¥‡∏°): ‡πÄ‡∏û‡∏¥‡πà‡∏° pagination helper ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á
‚îÇ ‚îú‚îÄ owner/
‚îÇ ‚îÇ ‚îî‚îÄ routes.py ‚Äî (O1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡∏´‡∏ô‡πâ‡∏≤ Owner CRUD + ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ
‚îÇ ‚îÇ ‚Ä¢ O1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - dashboard(): Response
‚îÇ ‚îÇ - new_property(): Response
‚îÇ ‚îÇ - edit_property(prop_id:int): Response
‚îÇ ‚îÇ - upload_image(prop_id:int): Response
‚îÇ ‚îÇ - delete_image(prop_id:int, image_id:int): Response
‚îÇ ‚îÇ - reorder_images(prop_id:int): Response
‚îÇ ‚îÇ ‚Ä¢ O2 (‡πÄ‡∏™‡∏£‡∏¥‡∏°): hook amenities ‡πÉ‡∏ô edit/new (‡∏î‡∏π services/repo)
‚îÇ ‚îú‚îÄ admin/
‚îÇ ‚îÇ ‚îî‚îÄ routes.py ‚Äî (A1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡∏´‡∏ô‡πâ‡∏≤ Admin queue + workflow
‚îÇ ‚îÇ ‚Ä¢ A1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°)
‚îÇ ‚îÇ - queue(): Response
‚îÇ ‚îÇ - approve(prop_id:int): Response
‚îÇ ‚îÇ - reject(prop_id:int): Response
‚îÇ ‚îÇ - logs(page:int=1): Response
‚îÇ ‚îú‚îÄ auth/
‚îÇ ‚îÇ ‚îî‚îÄ routes.py ‚Äî (A2) ‡∏£‡∏ß‡∏° login/register/logout
‚îÇ ‚îÇ ‚Ä¢ A2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - owner_register(): Response
‚îÇ ‚îÇ - login(): Response (combined Owner/Admin + remember me)
‚îÇ ‚îÇ - logout(): Response
‚îÇ ‚îî‚îÄ api/
‚îÇ ‚îî‚îÄ routes.py ‚Äî (U3) /api/health (‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ API ‡πÄ‡∏û‡∏¥‡πà‡∏°)
‚îÇ ‚Ä¢ U3: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ - api_health(): JSON Response
‚îÇ
‚îú‚îÄ models/
‚îÇ ‚îú‚îÄ user.py ‚Äî (A2) ‡πÇ‡∏Ñ‡∏£‡∏á user/admin (ORM)
‚îÇ ‚îú‚îÄ property.py ‚Äî (O2) Property/Image/Amenity/PropertyAmenity
‚îÇ ‚îî‚îÄ approval.py ‚Äî (A1) ApprovalRequest, AuditLog (‡∏ï‡πà‡∏≠ workflow)
‚îÇ ‚Ä¢ A1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô model-level (optional staticmethod/classmethod)
‚îÇ - AuditLog.log(actor_type:str, actor_id:int, action:str, property_id:int|None, meta:dict|None) -> None
‚îÇ
‚îú‚îÄ repositories/
‚îÇ ‚îú‚îÄ interfaces/
‚îÇ ‚îÇ ‚îú‚îÄ user_repo.py ‚Äî (A2) ‡∏™‡∏±‡∏ç‡∏ç‡∏≤ repo user
‚îÇ ‚îÇ ‚îú‚îÄ property_repo.py ‚Äî (U1) ‡∏™‡∏±‡∏ç‡∏ç‡∏≤ repo property
‚îÇ ‚îÇ ‚îî‚îÄ approval_repo.py ‚Äî (A1) ‡∏™‡∏±‡∏ç‡∏ç‡∏≤ repo approval/log (‡∏ï‡πà‡∏≠‡∏¢‡∏≠‡∏î)
‚îÇ ‚îî‚îÄ sqlalchemy/
‚îÇ ‚îú‚îÄ user_repo_sql.py ‚Äî (A2)
‚îÇ ‚îÇ ‚Ä¢ A2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - add_owner(owner:Owner) -> Owner
‚îÇ ‚îÇ - get_owner_by_email(email:str) -> Owner|None
‚îÇ ‚îÇ - get_admin_by_username(username:str) -> Admin|None
‚îÇ ‚îú‚îÄ property_repo_sql.py ‚Äî (U1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤/‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏à‡∏£‡∏¥‡∏á
‚îÇ ‚îÇ ‚Ä¢ U1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - get(prop_id:int) -> Property|None
‚îÇ ‚îÇ - add(prop:Property) -> Property
‚îÇ ‚îÇ - save(prop:Property) -> None
‚îÇ ‚îÇ - list_approved(**filters) -> Query
‚îÇ ‚îÇ (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö q, min/max price, room_type, availability, amenities AND)
‚îÇ ‚îî‚îÄ approval_repo_sql.py ‚Äî (A1) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö workflow
‚îÇ ‚Ä¢ A1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°)
‚îÇ - add_request(req:ApprovalRequest) -> ApprovalRequest
‚îÇ - update_request(req:ApprovalRequest) -> None
‚îÇ - add_log(log:AuditLog) -> AuditLog
‚îÇ - list_logs(page:int, per_page:int) -> Pagination
‚îÇ
‚îú‚îÄ services/
‚îÇ ‚îú‚îÄ auth_service.py ‚Äî (A2) ‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏ï‡∏£‡∏ß‡∏à/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô/‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏≠‡∏≤‡∏ï‡πå
‚îÇ ‚îÇ ‚Ä¢ A2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - register_owner(data:dict) -> Owner
‚îÇ ‚îÇ - verify_owner(email:str, password:str) -> bool
‚îÇ ‚îÇ - login_owner(owner:Owner) -> None
‚îÇ ‚îÇ - verify_admin(username:str, password:str) -> Admin|None
‚îÇ ‚îÇ - login_admin(admin:Admin) -> None
‚îÇ ‚îÇ - logout() -> None
‚îÇ ‚îú‚îÄ property_service.py ‚Äî (O1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®
‚îÇ ‚îÇ ‚Ä¢ O1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - create(owner_id:int, data:dict) -> Property
‚îÇ ‚îÇ - update(owner_id:int, prop_id:int, data:dict) -> Property|None
‚îÇ ‚îú‚îÄ search_service.py ‚Äî (U1) ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å repo + ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏´‡∏ô‡πâ‡∏≤
‚îÇ ‚îÇ ‚Ä¢ U1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - search(filters:dict, page:int=1, per_page:int=12) -> dict
‚îÇ ‚îú‚îÄ approval_service.py ‚Äî (A1 ‚Äî ‡∏´‡∏ô‡∏±‡∏Å) ‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Å‡πÇ‡∏ü‡∏•‡∏ß‡πå‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
‚îÇ ‚îÇ ‚Ä¢ A1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏°)
‚îÇ ‚îÇ - submit(prop:Property, owner_id:int) -> None
‚îÇ ‚îÇ - approve(admin_id:int, prop_id:int, note:str|None) -> None
‚îÇ ‚îÇ - reject(admin_id:int, prop_id:int, note:str|None) -> None
‚îÇ ‚îÇ - get_logs(page:int=1, per_page:int=20) -> dict
‚îÇ ‚îú‚îÄ upload_service.py ‚Äî (O1) ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏π‡∏õ/‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå
‚îÇ ‚îÇ ‚Ä¢ O1: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ ‚îÇ - save_image(owner_id:int, file_storage) -> str
‚îÇ ‚îî‚îÄ policies/
‚îÇ ‚îî‚îÄ property_policy.py ‚Äî (O2) ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢
‚îÇ ‚Ä¢ O2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô/‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡πà‡∏≤
‚îÇ - can_upload_more(current_count:int) -> bool
‚îÇ
‚îú‚îÄ forms/
‚îÇ ‚îú‚îÄ auth.py ‚Äî (A2) ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏°‡∏±‡∏Ñ‡∏£/‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô
‚îÇ ‚îú‚îÄ owner.py ‚Äî (O2) ‡∏ü‡∏≠‡∏£‡πå‡∏° property + validate room_type
‚îÇ ‚îî‚îÄ upload.py ‚Äî (O1) ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î/‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏£‡∏π‡∏õ
‚îÇ
‚îú‚îÄ utils/
‚îÇ ‚îî‚îÄ validation.py ‚Äî (U2) helper validation
‚îÇ ‚Ä¢ U2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô
‚îÇ - is_valid_citizen_id(cid:str) -> bool
‚îÇ - validate_image_file(fs, max_mb:int=3) -> None (raise ‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î)
‚îÇ - validate_pdf_file(fs, max_mb:int=10) -> None (raise ‡∏ñ‡πâ‡∏≤‡∏ú‡∏¥‡∏î)
‚îÇ
‚îî‚îÄ templates/ ‚Äî (U3 + O1 + A1 ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô)
‚îú‚îÄ base.html ‚Äî (U3) Navbar/flash
‚îú‚îÄ public/ (U1/U3) ‚Äî index.html, detail.html
‚îú‚îÄ owner/ (O1/O2) ‚Äî dashboard.html, form.html (drag&drop)
‚îú‚îÄ admin/ (A1) ‚Äî queue.html (+ approve/reject views)
‚îî‚îÄ auth/ (A2) ‚Äî login.html, owner_register.html

```

### ‡∏™‡∏£‡∏∏‡∏õ ‚Äú‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô/‡∏Ñ‡∏ô‚Äù (Checklist)

- **U1 (‡∏´‡∏ô‡∏±‡∏Å)**  
  - `SearchService.search()`  
  - `SqlPropertyRepo.list_approved()`  
  - `public.routes.index()`  
- **U2**  
  - `utils.validation.is_valid_citizen_id()` *(‡∏´‡∏£‡∏∑‡∏≠ Map helper/‡∏ù‡∏±‡∏á Google Maps ‡πÉ‡∏ô detail)*  
- **U3**  
  - `api.routes.api_health()`  
  - ‡∏õ‡∏£‡∏±‡∏ö `templates/base.html` + pagination partial/Jinja filter  
- **O1 (‡∏´‡∏ô‡∏±‡∏Å)**  
  - `PropertyService.create()` / `update()`  
  - Endpoints ‡πÉ‡∏ô `owner.routes` (upload/delete/reorder)  
  - `UploadService.save_image()`  
- **O2**  
  - `forms.owner.PropertyForm.validate_room_type()`  
  - `policies.property_policy.can_upload_more()`  
  - *(‡πÄ‡∏™‡∏£‡∏¥‡∏°)* ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å amenities many-to-many ‡πÉ‡∏ô `owner.routes.edit_property`  
- **A1 (‡∏´‡∏ô‡∏±‡∏Å)**  
  - `ApprovalService.approve()` / `reject()` / `get_logs()`  
  - `admin.routes.approve()` / `reject()` / `logs()`  
  - `models.approval.AuditLog.log()`  
- **A2**  
  - `AuthService.register_owner()` / `verify_owner()` / `verify_admin()` / `login_owner()` / `login_admin()` / `logout()`  
  - `extensions.load_user()` + decorators (`owner_required` / `admin_required`)  
  - `auth.routes.login()` / `owner_register()` / `logout()`  
  - `__init__.py: register_dependencies()` + CLI seed (`seed_amenities`, `seed_sample`)  

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á/‡∏£‡∏±‡∏ô (Local)

> ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ **Python 3.11/3.12** ‡πÅ‡∏•‡∏∞ `pip`

```bash
pip install -r requirements.txt

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å)
flask --app run.py db init
flask --app run.py db migrate -m "init schema"
flask --app run.py db upgrade

# Seed ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
flask --app run.py seed_amenities
flask --app run.py seed_sample

# ‡∏£‡∏±‡∏ô‡πÄ‡∏ß‡πá‡∏ö (‡∏ó‡∏≥‡∏Å‡∏≤‡∏£run‡πÄ‡πÄ‡∏Ñ‡πà‡∏ô‡∏µ‡πâ‡∏Å‡πá‡∏û‡∏≠)
python run.py 
# ‡πÄ‡∏õ‡∏¥‡∏î http://127.0.0.1:5000/
‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
```
Admin: admin / admin

Owner: owner@example.com / password (‡∏à‡∏≤‡∏Å seed_sample)

‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô (Workflow)
1 feature = 1 branch: feature/u1-search, feature/o1-gallery, feature/a1-approval, ‚Ä¶

‡πÅ‡∏Å‡πâ models ‚Üí ‡∏ï‡πâ‡∏≠‡∏á ‡∏™‡∏£‡πâ‡∏≤‡∏á migration ‡πÉ‡∏´‡∏°‡πà: db migrate + db upgrade ‡πÅ‡∏•‡∏∞ commit ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå migrations/

‡∏¢‡∏∂‡∏î signature ‡∏Ç‡∏≠‡∏á Services/Repositories ‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏ç‡∏ç‡∏≤ (interfaces) ‡∏•‡∏î conflict

‡∏ï‡∏±‡πâ‡∏á pre-commit (black/ruff) ‡πÄ‡∏û‡∏∑‡πà‡∏≠ format/lint ‡∏Å‡πà‡∏≠‡∏ô commit

‡πÉ‡∏ä‡πâ seed ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏™‡∏ï‡πå‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô

Troubleshooting
Error: No such command 'db' ‚Üí Flask import app ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô; ‡∏î‡∏π traceback ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î, ‡πÅ‡∏Å‡πâ import ‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô

ModuleNotFoundError: app.forms.auth ‚Üí ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå app/forms/auth.py ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥ app/forms/__init__.py ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô namespace ‡πÄ‡∏õ‡∏•‡πà‡∏≤

ValueError: blueprint name 'auth' is already registered ‚Üí register blueprint ‡∏ã‡πâ‡∏≥; ‡πÄ‡∏ä‡πá‡∏Ñ create_app()

IndentationError ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏¢‡∏∑‡πâ‡∏≠‡∏á‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î (‡πÉ‡∏ä‡πâ editor ‡∏ó‡∏µ‡πà‡πÇ‡∏ä‡∏ß‡πå whitespace)

‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‚Üí ‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡∏ô‡∏¥‡∏î/‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå, ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô UPLOAD_FOLDER


---

# ‡∏Å‡∏≤‡∏£‡πÄ‡πÄ‡∏ö‡πà‡∏á‡∏á‡∏≤‡∏ô

‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô:
- **‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**: `snake_case`, verb-first, ‡∏™‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- **Branch**: `feat|fix|refactor|chore/<area>-<scope>-<owner>` (‡πÄ‡∏ä‡πà‡∏ô `feat/user-search-u1`)

---

## U1 (‡∏´‡∏ô‡∏±‡∏Å) ‚Äî User Search/List

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/services/search_service.py`
  - `search_properties(filters: dict, page: int = 1, per_page: int = 12) -> dict`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏£‡∏ß‡∏°‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ‡πÅ‡∏õ‡∏•‡∏á query string ‚Üí filters ‡∏ó‡∏µ‡πà repo ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö, ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å repo, ‡∏à‡∏±‡∏î‡∏´‡∏ô‡πâ‡∏≤ (pagination), ‡∏Ñ‡∏∑‡∏ô `{items, total, page, per_page, pages}`

- `app/repositories/sqlalchemy/property_repo_sql.py`
  - `list_approved_with_filters(**filters)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏Ñ‡∏∑‡∏ô SQLAlchemy Query ‡∏Ç‡∏≠‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ó‡∏µ‡πà `workflow_status='approved'` ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå `q`, `price_min/max`, `room_type`, `availability`, `amenities AND`, `ordering` (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‚Äî ‡πÑ‡∏°‡πà execute ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ service ‡∏Ñ‡∏∏‡∏° paginate ‡πÄ‡∏≠‡∏á

- `app/blueprints/public/routes.py`
  - `index()`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏£‡∏±‡∏ö query-string ‡∏à‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ (‡πÄ‡∏ä‡πà‡∏ô `?q=&min=&max=&amenities=...`), ‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ `search_properties`, render `templates/public/index.html`
  - `property_detail(prop_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏î‡∏∂‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ (approved ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ/amenities, render ‡∏´‡∏ô‡πâ‡∏≤ detail

**Branch**
- `feat/user-search-u1`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/user-filters-u1`, `feat/user-pagination-u1`

---

## U2 ‚Äî User Map/Detail & Validation

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/utils/validation.py`
  - `is_valid_citizen_id(cid: str) -> bool`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì checksum 13 ‡∏´‡∏•‡∏±‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏•‡∏Ç‡∏ú‡∏¥‡∏î
- *(‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Map helper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ detail)*
  - `app/blueprints/public/helpers.py`
    - `build_gmap_embed(lat: float, lng: float, place_id: str | None = None) -> str`  
      _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏™‡∏£‡πâ‡∏≤‡∏á URL/HTML embed ‡∏Ç‡∏≠‡∏á Google Maps ‡∏à‡∏≤‡∏Å‡∏û‡∏¥‡∏Å‡∏±‡∏î (‡∏´‡∏£‡∏∑‡∏≠ place_id) ‡πÉ‡∏´‡πâ template ‡∏ù‡∏±‡∏á‡∏á‡πà‡∏≤‡∏¢

**Branch**
- `feat/user-detail-map-u2`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/utils-validation-u2`

---

## U3 ‚Äî User UI/Base/API Health

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/blueprints/api/routes.py`
  - `api_health()`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: Endpoint ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏£‡∏∞‡∏ö‡∏ö: ‡∏Ñ‡∏∑‡∏ô JSON ‡πÄ‡∏ä‡πà‡∏ô `{"status":"ok","version":...}` ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à uptime/health check

- `app/templates/base.html`  
  _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ß‡∏≤‡∏á Navbar, Flash messages, Footer, slot ‡∏Ç‡∏≠‡∏á pagination/filters ‡πÉ‡∏´‡πâ‡∏ó‡∏∏‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô

- *(‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Jinja helpers ‚Äî ‡∏ñ‡πâ‡∏≤‡∏ó‡∏≥)*
  - `app/blueprints/public/jinja_filters.py`
    - `register_jinja_filters(app)`  
      _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏ü‡∏¥‡∏•‡πÄ‡∏ï‡∏≠‡∏£‡πå Jinja ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏ß‡∏ô Public
    - `format_price(value)`  
      _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ñ‡∏≠‡∏°‡∏°‡∏≤/‡∏´‡∏ô‡πà‡∏ß‡∏¢
    - `paginate_links(pagination)`  
      _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏´‡∏ô‡πâ‡∏≤ ‡∏Å‡πà‡∏≠‡∏ô/‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‡∏à‡∏≤‡∏Å‡∏≠‡πá‡∏≠‡∏ö‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå pagination

**Branch**
- `feat/user-ui-base-u3`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/user-pagination-u3`, `feat/api-health-u3`

---

## O1 (‡∏´‡∏ô‡∏±‡∏Å) ‚Äî Owner CRUD + Gallery

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/services/property_service.py`
  - `create_property(owner_id: int, data: dict) -> Property`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå/‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏™‡∏£‡πâ‡∏≤‡∏á Property ‡πÉ‡∏´‡∏°‡πà, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•, ‡∏Ñ‡∏∑‡∏ô‡∏≠‡πá‡∏≠‡∏ö‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå
  - `update_property(owner_id: int, prop_id: int, data: dict) -> Property | None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏î‡πâ, ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ü‡∏¥‡∏•‡∏î‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï, save

- `app/services/upload_service.py`
  - `save_property_image(owner_id: int, file_storage) -> str`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡∏ô‡∏¥‡∏î/‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏£‡∏π‡∏õ, ‡∏ï‡∏±‡πâ‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á `uploads/<owner_id>/images/`, ‡∏Ñ‡∏∑‡∏ô relative path

- `app/blueprints/owner/routes.py`
  - `dashboard()`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏Ç‡∏≠‡∏á owner ‡∏Ñ‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô + ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏±‡πâ‡∏ô ‡πÜ
  - `new_property()`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏™‡∏î‡∏á/‡∏£‡∏±‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏£‡πâ‡∏≤‡∏á, ‡πÉ‡∏ä‡πâ `PropertyService.create_property`
  - `edit_property(prop_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® + ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏π‡∏õ/amenities
  - `upload_property_image(prop_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ (‡∏ï‡∏£‡∏ß‡∏à quota ‚â§ 6 ‡∏£‡∏π‡∏õ), ‡πÄ‡∏û‡∏¥‡πà‡∏° `PropertyImage` ‡πÉ‡∏´‡∏°‡πà, ‡∏£‡∏µ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô JSON/redirect
  - `delete_property_image(prop_id: int, image_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏•‡∏ö‡∏£‡∏π‡∏õ (‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• + ‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á), reindex `position`
  - `reorder_property_images(prop_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏£‡∏±‡∏ö‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏ä‡πà‡∏ô list ‡∏Ç‡∏≠‡∏á image_id), ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `position` ‡∏ï‡∏≤‡∏° drag & drop

**Branch**
- `feat/owner-crud-gallery-o1`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/owner-upload-image-o1`, `feat/owner-reorder-images-o1`

---

## O2 ‚Äî Owner Form & Amenities

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/forms/owner.py`
  - `PropertyForm.validate_room_type(self, field)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡πà‡∏≤ room_type ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï (‡πÄ‡∏ä‡πà‡∏ô `studio`, `1br`, ‚Ä¶) ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡πà‡∏≤‡πÅ‡∏õ‡∏•‡∏Å

- `app/services/policies/property_policy.py`
  - `can_upload_more(current_count: int) -> bool`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏π‡∏õ/‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6), ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô upload endpoint

- *(‡πÄ‡∏™‡∏£‡∏¥‡∏° M2M amenities)*
  - `app/services/property_service.py`
    - `update_property_amenities(prop: Property, amenity_codes: list[str]) -> None`  
      _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: map ‡∏ä‡∏∏‡∏î‡πÇ‡∏Ñ‡πâ‡∏î ‚Üí ‡πÄ‡∏≠‡∏ô‡∏ó‡∏¥‡∏ï‡∏µ Amenity, sync ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° `property_amenities` (add/remove ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á)

**Branch**
- `feat/owner-form-amenities-o2`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/owner-policy-upload-limit-o2`

---

## A1 (‡∏´‡∏ô‡∏±‡∏Å) ‚Äî Admin Approval Workflow

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/services/approval_service.py`
  - `submit_property(property_id: int, owner_id: int) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: Owner ‡∏™‡πà‡∏á‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥: ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï `approval_requests`, ‡∏ï‡∏±‡πâ‡∏á `workflow_status='submitted'`
  - `approve_property(admin_id: int, prop_id: int, note: str | None = None) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÇ‡∏î‡∏¢ admin: ‡∏ï‡∏±‡πâ‡∏á `workflow_status='approved'`, ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏≥‡∏Ç‡∏≠, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å `AuditLog`
  - `reject_property(admin_id: int, prop_id: int, note: str | None = None) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò: ‡∏ï‡∏±‡πâ‡∏á `workflow_status='rejected'`, ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡πÉ‡∏ô note, ‡∏•‡πá‡∏≠‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°
  - `get_audit_logs(page: int = 1, per_page: int = 20) -> dict`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏î‡∏∂‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏ö‡∏ö‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô UI ‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•

- `app/blueprints/admin/routes.py`
  - `queue()`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ `submitted` ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
  - `approve(prop_id: int)` / `reject(prop_id: int)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å service ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å note (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
  - `logs(page: int = 1)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÅ‡∏™‡∏î‡∏á AuditLog ‡πÅ‡∏ö‡∏ö paginate

- `app/models/approval.py`
  - `AuditLog.log(actor_type, actor_id, action, property_id=None, meta=None)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: method ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏ó‡∏µ‡πà

**Branch**
- `feat/admin-approval-workflow-a1`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/admin-logs-a1`, `feat/admin-queue-a1`

---

## A2 ‚Äî Auth/Security/DI/Seeds

**‡πÑ‡∏ü‡∏•‡πå & ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô**
- `app/services/auth_service.py`
  - `register_owner(data: dict) -> Owner`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ owner ‡πÉ‡∏´‡∏°‡πà: validate, hash password, ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å PDF path (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ), ‡πÄ‡∏ã‡∏ü DB
  - `verify_owner(email: str, password: str) -> bool`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô owner
  - `login_owner(owner: Owner) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÉ‡∏ä‡πâ `login_user(...)` (Flask-Login) ‡∏™‡∏£‡πâ‡∏≤‡∏á session
  - `verify_admin(username: str, password: str) -> Admin | None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô admin
  - `login_admin(admin: Admin) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: login user ‡πÅ‡∏ö‡∏ö admin principal
  - `logout() -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö (clear session)

- `app/extensions.py`
  - `load_user(user_id: str) -> Principal | None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÇ‡∏´‡∏•‡∏î principal ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (owner/admin) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö session
  - `owner_required(f)` / `admin_required(f)`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: decorator ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á route ‡∏ï‡∏≤‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó

- `app/__init__.py`
  - `register_dependencies(app) -> None`  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡∏ú‡∏π‡∏Å DI: services ‚Üí repositories (SQLAlchemy) ‡πÉ‡∏ô `app.config["container"]`
  - `seed_amenities()` / `seed_sample()` (CLI)  
    _‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢_: ‡πÄ‡∏ï‡∏¥‡∏° master data (amenities) ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (admin/owner/property)

**Branch**
- `feat/admin-auth-security-a2`
- *(‡∏¢‡πà‡∏≠‡∏¢)* `feat/di-container-a2`, `feat/cli-seeds-a2`

---

## ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡∏∑‡πà‡∏≠ Commit/PR (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

- **Commit**: `feat(scope): action detail`  
  _‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á_: `feat(search): add amenities AND-filter + pagination`
- **PR Title**: ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö commit ‡πÅ‡∏£‡∏Å + ‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏ô‡∏ó‡∏≥  
  _‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á_: `feat(search): add filters & approved listing (U1)`

---
